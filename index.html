<!DOCTYPE html>
<html lang="en">
<!-- üé® HEAD & STYLES START bg-blue-500 üé® -->
<head>
    <link rel="icon" type="image/png" href="img/ico/logo.png">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Candie Box | Anime Art & Animation</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<!-- üé® HEAD & STYLES END üé® -->

<!-- üéÄ FLOATING RIBBON START üéÄ -->
    <div class="fixed top-9 left-1/2 -translate-x-1/2 z-50 hidden md:block">
        <!-- The <a> tag creates the link -->
        <a href="./index.html" title="Home"> 
            <div class="rounded-full">
                 <!-- 
                 *** YOUR PUBLIC GOOGLE DRIVE IMAGE URL IS NOW HERE ***
                 -->
                 <img src="https://static.wixstatic.com/media/628285_fd030053b925402b995229b905418ab0~mv2.png/v1/fill/w_190,h_170,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/Ribbon.png"
                      onerror="this.onerror=null; this.src='https://placehold.co/80x80/FFF0F5/DB2777?text=üíñ'" 
                      alt="Ribbon Decoration"
                      class="rounded-full w-20 h-20 object-cover">
            </div>
        </a>
    </div>
<!-- üéÄ FLOATING RIBBON END üéÄ -->

<!-- üéÄ FLOATING LACE HEADER START üéÄ -->
    <!-- We calculate the exact position: Header starts at top-4, has padding/height ~16 units, so banner starts at top-20. -->
    <div class="fixed top-7 z-10 hidden md:block w-full">
        <div class="w-full mx-auto">
            <div class="relative w-full overflow-hidden " >
                 <!-- 
                 Using w-full and h-32 (32 = 8rem) for a rectangular shape.
                 -->
                 <img id="floating-image"
                      src="img/WebHeader.png"
                      onerror="this.onerror=null; this.src='https://placehold.co/1200x200/F472B6/DB2777?text=Cute+Banner+Image+Placeholder'" 
                      alt="Decorative Banner Image"
                      class="w-full h-32 object-cover footer-shadow">
            </div>
        </div>
    </div>
<!-- üéÄ FLOATING LACE HEADER END üéÄ -->
<body class="antialiased">

    <!-- üç¨ HEADER & NAVIGATION START üç¨ -->
    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="center-logo">
</div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3.5 flex justify-between items-center">
    <h1 class="text-3xl font-fredoka font-bold text-pink-accent tracking-wide">
        <a href="./index.html#commissions" title="Home"> 
                The Candie Box <span class="text-xl"> ö ‚ô° …û</span>
            </h1>
        </a>
            <nav class="hidden sm:block">
    <a href="./Gallery.html" class="text-lg font-medium text-gray-600 hover:text-pink-accent mx-3 transition duration-150 ">Gallery</a>
    <a href="https://vgen.co/candie_cake" class="text-lg font-medium text-gray-600 hover:text-pink-accent mx-3 transition duration-150">Commission</a>
    <a href="#contact" class="text-lg font-medium text-gray-600 hover:text-pink-accent mx-3 transition duration-150">Contact</a>
</nav>
    </div>
    </header>
    <!-- üç¨ HEADER & NAVIGATION END üç¨ -->

    <!-- üíñ SOCIAL MEDIA BAR START üíñ -->
    <div id="top-social-bar" class="w-full bg-title-pink text-white fixed top-0 left-0 z-30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-6 flex items-center justify-end space-x-2">
            <a href="https://vgen.co/candie_cake" target="_blank" 
    rel="noopener" 
   class="text-sm font-medium hover:underline" 
   aria-label="Vgen">
   <img src="img/ico/vgen.png" alt="Vgen" class="w-7 h-7 inline-block">
</a>
            <a href="https://twitter.com/candie_cake" target="_blank" 
   rel="noopener" 
   class="text-sm font-medium hover:underline" 
   aria-label="Twitter">
   <img src="img/ico/twitter.png" alt="Twitter" class="w-6 h-6 inline-block">
</a>
            <a href="https://instagram.com/candie__cake" 
   target="_blank" 
   rel="noopener" 
   class="text-sm font-medium hover:underline" 
   aria-label="Instagram">
   <img src="img/ico/instagram.png" alt="Instagram" class="w-6 h-6 inline-block">
</a>
        </div>
    </div>

    <script>
    (function() {
        const bar = document.getElementById('top-social-bar');
        const header = document.querySelector('header');

        function adjustLayout() {
            if (!bar) return;
            const h = bar.offsetHeight;
            // push the page content down so the bar doesn't overlap the header/content
            document.body.style.paddingTop = h + 'px';
            // nudge the sticky header down so it sits under the bar
            if (header) header.style.top = h + 'px';
        }

        // initial adjust and keep in sync on resize (and font/load changes)
        window.addEventListener('load', adjustLayout);
        window.addEventListener('resize', adjustLayout);
        // mutation observer in case fonts/images change layout height after load
        new MutationObserver(adjustLayout).observe(document.documentElement, { childList: true, subtree: true });
    })();
    </script>
    <!-- üíñ SOCIAL MEDIA BAR END üíñ -->

    <main>
       
    <!-- ‚ú® HERO SECTION & SLIDESHOW START ‚ú® -->
    <section class="relative">
        <div class="slideshow-container">
            <div class="mySlides fade">
                <div class="numbertext">1 / 3</div>
                <img src="img/banner/stupidbanner.jpg">
            </div>
            <div class="mySlides fade">
                <div class="numbertext">2 / 3</div>
                <img src="img/banner/karibanner.jpg">
            </div>
            <div class="mySlides fade">
                <div class="numbertext">3 / 3</div>
                <img src="img/banner/elizabanner.jpg">
            </div style="z-index: 1;">
            
        </div>
        <div style="items-center z-index: 999; position: absolute; bottom: -15px; width: 100%; ">
                <a class="prev" onclick="plusSlides(-1)">‚ùÆ</a>
                <a class="next" onclick="plusSlides(1)">‚ùØ</a>
            </div>

        <div style="text-align:center; position: absolute; bottom: 20px; width: 100%; z-index: 1;">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
        </div>

        <!-- Welcome Text Overlay -->
        <div class="absolute inset-0 flex items-center justify-center z-1">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center text-white">
                    <h2 class="text-6xl sm:text-7xl lg:text-5xl font-fredoka font-extrabold tracking-tight">
                         <span class="text-white">‚ô° Welcome to the Candie Box ‚ô°</span>
                    </h2>
                    <p class="mt-6 text-xl text-gray-200 max-w-2xl mx-auto">
                        Bringing your characters and ideas to life in a sugary sweet, adorable style! Check my queue and secure your slot today.
                    </p>
                    <div class="mt-10 flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6">
                        <a href="https://vgen.co/candie_cake" class="btn-commission inline-block px-10 py-4 text-xl font-bold bg-pink-accent text-white rounded-full">
                            ‚ú® Commission Me ‚ú®
                        </a>
                        <a href="https://trello.com/b/GAQsZ4OY/commission-queue" class="inline-block px-10 py-4 text-xl font-bold border-2 border-pink-accent text-white rounded-full transition duration-300 bg-white/50">
                            <span>Wait List</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <script>
        let slideIndex = 0; // Start at 0 for easier auto-cycling logic
        let slideInterval;

        // Function to show slides
        function showSlides() {
          let i;
          let slides = document.getElementsByClassName("mySlides");
          let dots = document.getElementsByClassName("dot");
          
          // Hide all slides
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
          }
          
          // Increment index and reset if it goes beyond the last slide
          slideIndex++;
          if (slideIndex > slides.length) {slideIndex = 1}
          
          // Deactivate all dots
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
          }
          
          // Display the correct slide and activate the corresponding dot
          slides[slideIndex-1].style.display = "block";
          dots[slideIndex-1].className += " active";
        }

        // Manual navigation functions
        function plusSlides(n) {
          // Clear the interval and restart it after manual navigation
          clearInterval(slideInterval);
          showSlidesManual(slideIndex += n);
          slideInterval = setInterval(showSlides, 4000); // Restart auto-play
        }

        function currentSlide(n) {
          // Clear the interval and restart it
          clearInterval(slideInterval);
          showSlidesManual(slideIndex = n);
          slideInterval = setInterval(showSlides, 4000); // Restart auto-play
        }

        // A separate function for manual control to avoid conflicts with auto-play
        function showSlidesManual(n) {
          let i;
          let slides = document.getElementsByClassName("mySlides");
          let dots = document.getElementsByClassName("dot");
          if (n > slides.length) {slideIndex = 1}
          if (n < 1) {slideIndex = slides.length}
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
          }
          slides[slideIndex-1].style.display = "block";
          dots[slideIndex-1].className += " active";
        }

        // Start the slideshow on page load
        document.addEventListener('DOMContentLoaded', (event) => {
            showSlides(); // Show the first slide
            slideInterval = setInterval(showSlides, 4000); // Change 4000 to your desired time in milliseconds (e.g., 4000 = 4 seconds)
        });
        </script>
    </section>
    <!-- ‚ú® HERO SECTION & SLIDESHOW END ‚ú® -->

    <script>
        window.addEventListener('load', function(){
            const cta = document.getElementById('top-left-cta');
            if (cta) {
                // raise this value to move the blue "Gallery" button further down
                cta.style.setProperty('top', '6.5rem', 'important');
            }
        });
    </script>

    <!-- üìú SCRIPT TO PREVENT SCROLL-JUMP START üìú -->
    <script>
        // Prevent the page from auto-scrolling to the #commissions section on initial load.
        // Temporarily override scrollIntoView so the first call is ignored, then restore it.
        (function(){
        const original = Element.prototype.scrollIntoView;
        let ignoredOnce = false;
        Element.prototype.scrollIntoView = function() {
            if (!ignoredOnce) {
            ignoredOnce = true;
            // restore on next frame so further calls behave normally
            requestAnimationFrame(() => { Element.prototype.scrollIntoView = original; });
            return;
            }
            return original.apply(this, arguments);
        };
        })();
    </script>
    <!-- üìú SCRIPT TO PREVENT SCROLL-JUMP END üìú -->

    <!-- üë©‚Äçüé® ABOUT ME SECTION START üë©‚Äçüé® -->
    <section id="About Me" class="py-20 sm:py-24">
        <div class="max-w-5xl mx-auto bg-white p-8 rounded-3xl shadow-lg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <!-- ‚ú® New Two-Column Layout for "My Story" -->
                <div class="flex flex-col md:flex-row items-center justify-center gap-8 md:gap-12">
                    
                    <!-- Left Column: Heart Framed Image -->
                    <div class="flex-shrink-0 md:order-0">
                        <img src="img/gallery/candyredraw.png" 
                             alt="A personal photo or artwork"
                             class="w-80 rounded-0 ">
                    </div>

                    <!-- Right Column: Text Content -->
                    <div class="text-center md:text-left">
                        <h3 class="text-4xl font-fredoka font-extrabold text-title-pink">‚ô°
                            About Me ‚ô°</h3>
                        <p class="mt-4 text-lg text-gray-600 max-w-xl">Hi, I'm Candy! I'm a 22 year old artist from the US who specializes in making 2D animated art. I have a passion for bringing all of your creative ideas to life to the best of my abilities and love making new friends. Thank you for taking the time to visit my website ~ If you have any questions feel free to contact me ‚ô°</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- üë©‚Äçüé® ABOUT ME SECTION END üë©‚Äçüé® -->
    
    <!-- üìñ MY STORY SECTION START üìñ -->
    <section id="My Story" class="py-20 sm:py-4 bg-white rounded-xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <!-- ‚ú® New Two-Column Layout for "My Story" -->
            <div class="flex flex-col md:flex-row items-center justify-center gap-8 md:gap-12">
                
                <!-- Left Column: Text Content -->
                <div class="text-center md:text-left md:order-1">
                    <h3 class="text-4xl font-fredoka font-extrabold text-title-pink">
                        ‚ô° My Story ‚ô°</h3>
                    <p class="mt-4 text-lg text-gray-600 max-w-xl">I‚Äôve been drawing since I was a kid, but it wasn‚Äôt until middle school that I began creating pieces for others. I fell in love with transforming their ideas into something tangible and adding my own creative spark along the way ‚ô°</p>
                </div>

                <!-- Right Column: Square Image -->
                <div class="flex-shrink-0 md:order-2">
                    <img src="img/kiddraw/mermaid.png" 
                         alt="A personal photo or artwork"
                         class="w-64 rounded-2xl shadow-lg border-4 border-white">
                </div>
            </div>
        </div>
    </section>
    <!-- üìñ MY STORY SECTION END üìñ -->

    <!-- üíå CONTACT & SOCIALS SECTION START üíå -->
    <section id="contact" class="py-20 sm:py-24 bg-pink-accent/10 rounded-xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h3 class="text-4xl font-fredoka font-extrabold text-gray-600 mb-8">
            Message Me!
        </h3>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto mb-12">
            DM me on Twitter or Discord! I love hearing from fellow artists and potential clients ‚ô°
        </p>

        <!-- Socials and Email -->
        <div class="flex flex-col sm:flex-row justify-center space-y-6 sm:space-y-0 sm:space-x-12 text-center text-xl font-medium">
                        <!-- Twitter -->
<a href="https://x.com/candie_cake" target="_blank" rel="noopener">
  <div class="p-4 bg-white rounded-xl shadow-lg transition duration-300 hover:shadow-xl hover:scale-105
              flex flex-col items-center text-center">
    
    <img src="img/ico/twitterpink.png" alt="Twitter" class="w-12 h-12 mb-0">
    
    <p class="text-pink-accent mb-1 font-semibold">Twitter</p>
    <p class="text-gray-700 hover:text-pink-accent transition duration-200 text-lg">@candie_cake</p>

  </div>
</a>

<!-- Instagram -->
<a href="https://www.instagram.com/candie__cake" target="_blank" rel="noopener">
  <div class="p-4 bg-white rounded-xl shadow-lg transition duration-300 hover:shadow-xl hover:scale-105
              flex flex-col items-center text-center">
    
    <img src="img/ico/instagrampink.png" alt="Instagram" class="w-12 h-12 mb-0">
    
    <p class="text-pink-accent mb-1 font-semibold">Instagram</p>
    <p class="text-gray-700 hover:text-pink-accent transition duration-200 text-lg">@candie__cake</p>

  </div>
</a>

<!-- VGEN -->
<a href="https://vgen.co/candie_cake" target="_blank" rel="noopener">
  <div class="p-4 bg-white rounded-xl shadow-lg transition duration-300 hover:shadow-xl hover:scale-105
              flex flex-col items-center text-center">
    
    <img src="img/ico/vgenpink.png" alt="Vgen" class="w-12 h-12 mb-0">
    
    <p class="text-pink-accent mb-1 font-semibold">Vgen</p>
    <p class="text-gray-700 hover:text-pink-accent transition duration-200 text-lg">@candie_cake</p>

  </div>
</a>

            <!-- Discord --> 
                        <a href="https://discord.gg/URhWw698e9" target="_blank" rel="noopener">
            <div class="p-4 bg-white rounded-xl shadow-lg transition duration-300 hover:shadow-xl hover:scale-105
              flex flex-col items-center text-center">
                <img src="img/ico/discordpink.png" alt="Discord" class="w-12 h-12 mb-0">
                <p class="text-pink-accent mb-1 font-semibold">Discord</p>
                <p class="text-gray-700 hover:text-pink-accent transition duration-200 text-lg">@candiecake</p>
            </div>
            </a>

        </div>

                        
        </div>
    </section>
    <!-- üíå CONTACT & SOCIALS SECTION END üíå -->
    </main>

    <!-- ü¶∂ FOOTER START ü¶∂ -->
    <footer class="bg-title-pink text-white rounded-t-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-sm">
        <p>&copy; <span id="year"></span> The Candie Box‚Ñ¢. All Rights Reserved. | Cute Anime Commissions & Design</p>
    </div>
    <!-- üñºÔ∏è FIXED FOOTER IMAGE START üñºÔ∏è -->
    <div class="fixed bottom-0 left-0 right-0 hidden md:block">
    <div class="w-full max-w-9xl mx-auto px-8">
        <div class="relative w-full overflow-hidden rounded-t-xl">
         <!-- 
         Using w-full and h-32 (32 = 8rem) for a rectangular shape.
         -->
         <img id="floating-image"
              src="img/Footer.png"
              onerror="this.onerror=null; this.src='https://placehold.co/1200x200/F472B6/DB2777?text=Cute+Banner+Image+Placeholder'" 
              alt="Decorative Banner Image" 
              class="object-cover z-0 rounded-t-xl footer-shadow" style="position: fixed; left: 0; bottom: -35px; width: 100vw; height: 8rem;">
        </div>
    </div>
    </div>
    <!-- üñºÔ∏è FIXED FOOTER IMAGE END üñºÔ∏è -->
    </footer>
    <!-- ü¶∂ FOOTER END ü¶∂ -->

    <!-- üìú PAGE SCRIPTS START üìú -->
    <script>
    // üóìÔ∏è Set the current year in the footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // --- üìù Multi-Step Form Logic ---
    // Note: The form HTML is not on this page, but the script is here.
    let currentStep = 1;
    const form = document.getElementById('commissionForm');
    const steps = document.querySelectorAll('.form-step');
    const progressBar = document.getElementById('progress-bar');
    const successMessage = document.getElementById('success-message');
    const statusMessage = document.getElementById('form-status-message');
    const stepLabels = [
        document.getElementById('step-label-1'),
        document.getElementById('step-label-2'),
        document.getElementById('step-label-3')
    ];

    function updateSteps() {
        statusMessage.classList.add('hidden');
        steps.forEach(step => {
        step.classList.remove('active');
        });
        const activeStep = document.querySelector(`[data-step="${currentStep}"]`);
        if (activeStep) {
        activeStep.classList.add('active');
        }
        
        const progress = (currentStep / steps.length) * 100;
        progressBar.style.width = `${progress}%`;

        stepLabels.forEach((label, index) => {
        if (index < currentStep) {
            label.classList.remove('text-gray-400');
            label.classList.add('text-pink-accent');
        } else {
            label.classList.remove('text-pink-accent');
            label.classList.add('text-gray-400');
        }
        });
        
        document.getElementById('commissions').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function validateStep(stepIndex) {
        const currentStepElement = document.querySelector(`[data-step="${stepIndex}"]`);
        const requiredInputs = currentStepElement.querySelectorAll('[required]');
        let isValid = true;
        requiredInputs.forEach(input => {
        if (!input.value) {
            input.reportValidity(); 
            isValid = false;
        }
        });
        return isValid;
    }
    
    function populateReview() {
        const fields = [
        'client-name',
        'client-email',
        'char-count',
        'style'
        ];
        
        fields.forEach(id => {
        const value = document.getElementById(id).value;
        const displayElement = document.querySelector(`[data-field="${id}"]`);
        if (displayElement) {
            displayElement.textContent = value;
        }
        });
    }

    window.nextStep = function() {
        if (validateStep(currentStep)) {
        if (currentStep === 2) {
            populateReview();
        }
        currentStep++;
        updateSteps();
        }
    }

    window.prevStep = function() {
        currentStep--;
        updateSteps();
    }

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        statusMessage.classList.add('hidden');

        if (!document.getElementById('tos-agree').checked) {
        const submitButton = document.querySelector('[type="submit"]');
        submitButton.textContent = 'PLEASE AGREE TO TOS';
        submitButton.style.backgroundColor = 'red';
        setTimeout(() => {
            submitButton.textContent = 'SUBMIT REQUEST';
            submitButton.style.backgroundColor = '#ff69b4';
        }, 1500);
        document.getElementById('tos-agree').focus();
        return;
        }

        const data = new FormData(form);
        const submitButton = document.querySelector('[type="submit"]');
        const originalText = submitButton.textContent;
        submitButton.disabled = true;
        submitButton.innerHTML = '<span class="heart-spinner">üíñ</span> SENDING...';

        let response;
        try {
        response = await fetch(form.action, {
            method: form.method,
            body: data,
        });

        if (response.ok) {
            steps.forEach(step => step.style.display = 'none');
            successMessage.classList.remove('hidden');
            progressBar.style.width = '100%';
        } else {
            const result = await response.json();
            if (Object.hasOwn(result, 'errors')) {
            console.error("Form error:", result.errors.map(error => error.message).join(", "));
            statusMessage.textContent = "There was an error sending your request. Please check your details or email the artist directly.";
            } else {
            statusMessage.textContent = "Could not submit the form. Please try again later.";
            }
            statusMessage.classList.remove('hidden');
        }
        } catch (error) {
        console.error("Fetch error:", error);
        statusMessage.textContent = "Network error: Could not submit the form. Please check your connection.";
        statusMessage.classList.remove('hidden');
        } finally {
        if (!response || !response.ok) {
            submitButton.textContent = originalText;
            submitButton.disabled = false;
        }
        }
    });
    
    // --- üíï Flowy Heart Trail Cursor Logic ---
    let trailCounter = 0;
    const HEART_SPAWN_FREQUENCY = 12;

    function createTrailElement(x, y, className, content, duration) {
        const element = document.createElement('span');
        element.textContent = content;
        element.className = 'trail-element ' + className;
        
        const dx = (Math.random() - 0.5) * 40;
        const dy = -(Math.random() * 80 + 100);
        const rotStart = (Math.random() * 90) - 45;
        const rotEnd = rotStart + (Math.random() > 0.5 ? 90 : -90);

        element.style.left = `${x}px`;
        element.style.top = `${y}px`;
        element.style.animationDuration = `${duration}s`;
        element.style.setProperty('--dx', `${dx}px`);
        element.style.setProperty('--dy', `${dy}px`);
        element.style.setProperty('--rot-start', `${rotStart}deg`);
        element.style.setProperty('--rot-end', `${rotEnd}deg`);

        document.body.appendChild(element);

        setTimeout(() => {
        element.remove();
        }, duration * 1000);
    }

    document.addEventListener('mousemove', (e) => {
        trailCounter++;
        const x = e.clientX;
        const y = e.clientY;

        if (trailCounter % HEART_SPAWN_FREQUENCY === 0) { 
        createTrailElement(x, y, 'heart-trail', '‚ô°', 3.5); 
        }
    });

    // --- üíñ Heart Click Effect ---
    document.addEventListener('click', (e) => {
        const clickHeart = document.createElement('span');
        clickHeart.textContent = '‚ô°'; 
        clickHeart.className = 'trail-element click-heart';

        clickHeart.style.left = `${e.clientX - 25}px`;
        clickHeart.style.top = `${e.clientY - 25}px`; 

        document.body.appendChild(clickHeart);

        setTimeout(() => {
        clickHeart.remove();
        }, 600);
    });
    
    // üöÄ Initialize the form view if the form exists
    if(typeof steps !== 'undefined' && steps.length > 0) {
        updateSteps();
    }

    // --- Back to Top Button Logic ---
    const backToTopButton = document.getElementById("back-to-top-btn");
    const scrollThreshold = 200; // Pixels to scroll before showing the button

    // Show or hide the button based on scroll position
    window.onscroll = function() {
        if (document.body.scrollTop > scrollThreshold || document.documentElement.scrollTop > scrollThreshold) {
            backToTopButton.style.display = "block";
            setTimeout(() => { // Use a timeout to allow display:block to take effect before animating opacity
                backToTopButton.style.opacity = "1";
                backToTopButton.style.transform = "translateY(0)";
            }, 10);
        } else {
            backToTopButton.style.opacity = "0";
            backToTopButton.style.transform = "translateY(20px)";
            setTimeout(() => { // Hide after animation
                backToTopButton.style.display = "none";
            }, 300); // Match CSS transition duration
        }
    };

    // When the user clicks on the button, scroll to the top of the document
    backToTopButton.addEventListener("click", function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    </script>
    <!-- üìú PAGE SCRIPTS END üìú -->

    <!-- Back to Top Button HTML -->
    <button id="back-to-top-btn" title="Go to top">&uarr;</button>
</body>
</html>
